/* eslint-disable react/prop-types */
import { Link, useNavigate } from "react-router-dom";
import Inputs from "./Inputs";
import { logarUsuario } from "../infra/usuarios";

export default function LoginComponent({ setUsuario }) {

    const navigate = useNavigate(); // Utilize useNavigate para navegação

    async function handleClick() {
        event.preventDefault();
        const email = document.getElementById('email').value;
        const senha = document.getElementById('senha').value;
        let usuario = await logarUsuario(email, senha);

        if (usuario.id) {
            setUsuario(usuario); // Define o usuário
            navigate('/dashboard'); // Navega para a Dashboard
        } else {
            alert(usuario.erro);
        }
    }
    return (
        <>
            <div className="grid md:grid-cols-3 h-[100vh] md:h-initial">
                <div className="md:col-span-2 h-[100vh] flex items-center justify-center bg-[#0E101B] md:flex hidden">
                    <svg width="722" height="432" viewBox="0 0 722 432" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_136_15)">
                            <path d="M552.78 427.115C543.537 419.298 537.922 406.949 539.394 394.928C540.867 382.907 549.987 371.855 561.817 369.303C573.646 366.75 587.131 373.816 590.725 385.382C592.702 363.084 594.981 339.853 606.826 320.865C617.551 303.671 636.128 291.369 656.261 289.168C676.394 286.967 697.592 295.28 710.148 311.183C722.704 327.087 725.778 350.207 716.984 368.465C710.506 381.916 698.571 391.926 686.066 400.069C645.657 426.162 597.192 436.773 549.588 429.95L552.78 427.115Z" fill="#F2F2F2" />
                            <path d="M690.239 295.741C673.626 309.282 658.386 324.428 644.739 340.957C623.381 366.738 606.098 395.643 593.492 426.665C592.569 428.928 596.241 429.913 597.154 427.675C617.779 377.258 650.707 332.821 692.924 298.428C694.819 296.883 692.119 294.208 690.239 295.741Z" fill="white" />
                            <path d="M232.424 424.991C245.119 414.254 252.831 397.294 250.809 380.782C248.786 364.271 236.26 349.092 220.012 345.586C203.764 342.08 185.242 351.785 180.307 367.67C177.591 337.045 174.461 305.137 158.192 279.056C143.46 255.441 117.945 238.544 90.2925 235.521C62.6398 232.498 33.5251 243.915 16.2791 265.759C-0.966896 287.602 -5.1895 319.358 6.88913 344.436C15.787 362.91 32.1801 376.659 49.356 387.844C104.153 423.528 172.128 438.411 236.808 428.885" fill="#F2F2F2" />
                            <path d="M43.6243 244.548C66.4412 263.148 87.3733 283.95 106.118 306.654C124.865 329.334 141.371 353.781 155.401 379.651C163.244 394.163 170.289 409.093 176.506 424.373C177.773 427.481 172.73 428.835 171.476 425.761C160.466 398.821 146.843 373.027 130.805 348.747C114.844 324.555 96.5758 301.969 76.2573 281.307C64.765 269.627 52.6397 258.587 39.9363 248.239C37.3325 246.117 41.042 242.444 43.6243 244.548Z" fill="white" />
                            <path d="M518.263 431.054H215.355V120.014C215.355 53.838 269.15 0 335.273 0H398.345C464.468 0 518.263 53.838 518.263 120.014V431.054Z" fill="#F2F2F2" />
                            <path d="M455.192 431.054H215.355V120.014C215.289 94.657 223.312 69.9407 238.256 49.4638C238.807 48.7124 239.357 47.9706 239.923 47.237C247.152 37.7489 255.754 29.3928 265.446 22.4447C265.993 22.046 266.543 21.6543 267.101 21.2625C275.211 15.6459 283.983 11.0544 293.219 7.59253C293.768 7.38449 294.326 7.17603 294.884 6.9761C303.237 3.99283 311.896 1.94931 320.701 0.88326C321.247 0.808635 321.807 0.75024 322.367 0.691844C330.948 -0.226302 339.601 -0.226302 348.181 0.691844C348.74 0.75024 349.301 0.808628 349.853 0.884058C358.655 1.95018 367.312 3.99345 375.663 6.97613C376.221 7.17607 376.78 7.38451 377.33 7.59296C386.452 11.0111 395.121 15.5341 403.144 21.061C403.702 21.4442 404.26 21.836 404.809 22.2277C410.242 26.1087 415.345 30.4323 420.066 35.1544C423.852 38.942 427.379 42.9794 430.625 47.2395C431.19 47.9707 431.74 48.7124 432.29 49.4627C447.235 69.9397 455.258 94.6565 455.192 120.014V431.054Z" fill="#CCCCCC" />
                            <path d="M435.69 291.938C443.023 291.938 448.968 285.988 448.968 278.649C448.968 271.31 443.023 265.36 435.69 265.36C428.356 265.36 422.411 271.31 422.411 278.649C422.411 285.988 428.356 291.938 435.69 291.938Z" fill="#A9FFB7" />
                            <path d="M493.449 421.738H483.274L478.434 382.463L493.451 382.464L493.449 421.738Z" fill="#FFB8B8" />
                            <path d="M476.007 418.829H495.629V431.193H463.652C463.652 429.569 463.972 427.961 464.593 426.461C465.214 424.961 466.124 423.598 467.271 422.45C468.418 421.302 469.78 420.391 471.279 419.77C472.778 419.148 474.384 418.829 476.007 418.829Z" fill="#2F2E41" />
                            <path d="M544.072 421.738H533.897L529.057 382.463L544.073 382.464L544.072 421.738Z" fill="#FFB8B8" />
                            <path d="M526.63 418.829H546.252V431.193H514.275C514.275 429.569 514.595 427.961 515.216 426.461C515.837 424.961 516.747 423.598 517.894 422.45C519.041 421.302 520.403 420.391 521.902 419.77C523.401 419.148 525.007 418.829 526.63 418.829Z" fill="#2F2E41" />
                            <path d="M442.41 281.281C441.678 280.202 441.191 278.975 440.984 277.688C440.777 276.4 440.855 275.082 441.212 273.828C441.569 272.573 442.196 271.412 443.05 270.426C443.904 269.441 444.963 268.655 446.153 268.123L480.739 172.721L497.758 182.016L458.268 273.185C459.028 275.246 459.006 277.513 458.207 279.559C457.408 281.604 455.887 283.285 453.932 284.283C451.977 285.281 449.725 285.526 447.601 284.973C445.477 284.42 443.63 283.106 442.41 281.281Z" fill="#FFB8B8" />
                            <path d="M538.875 299.208C537.744 298.559 536.769 297.67 536.019 296.603C535.269 295.537 534.761 294.319 534.532 293.034C534.303 291.75 534.359 290.432 534.694 289.171C535.03 287.911 535.637 286.739 536.474 285.739L525.759 184.82L545.127 185.705L549.58 284.973C551.165 286.491 552.139 288.539 552.317 290.727C552.495 292.916 551.865 295.094 550.545 296.849C549.225 298.604 547.309 299.813 545.158 300.248C543.007 300.682 540.771 300.312 538.875 299.208Z" fill="#FFB8B8" />
                            <path d="M507.977 155.05C519.235 155.05 528.36 145.917 528.36 134.651C528.36 123.384 519.235 114.251 507.977 114.251C496.72 114.251 487.595 123.384 487.595 134.651C487.595 145.917 496.72 155.05 507.977 155.05Z" fill="#FFB8B8" />
                            <path d="M538.744 276.256H477.294L477.368 275.777C477.478 275.062 488.32 203.985 480.324 180.733C479.522 178.448 479.592 175.946 480.522 173.71C481.452 171.474 483.175 169.661 485.361 168.62C496.79 163.234 518.729 156.601 537.245 172.698C539.97 175.105 542.098 178.114 543.46 181.487C544.823 184.859 545.383 188.503 545.096 192.129L538.744 276.256Z" fill="#A9FFB7" />
                            <path d="M489.096 214.489L461.431 208.872L474.399 178.117C475.175 175.138 477.1 172.589 479.751 171.029C482.403 169.469 485.564 169.025 488.543 169.794C491.521 170.563 494.073 172.484 495.638 175.134C497.204 177.783 497.655 180.947 496.893 183.929L489.096 214.489Z" fill="#A9FFB7" />
                            <path d="M524.529 224.919L522.866 186.763C521.605 179.59 525.708 172.809 532.017 171.701C538.329 170.596 544.492 175.571 545.759 182.797L552.011 218.45L524.529 224.919Z" fill="#A9FFB7" />
                            <path d="M536.7 271.688C546.588 309.375 547.666 357.292 544.999 409.559L531.721 407.898L507.654 308.232L494.376 409.559L479.438 408.728C474.975 353.887 470.63 306.807 477.778 275.84L536.7 271.688Z" fill="#2F2E41" />
                            <path d="M521.408 150.416C517.605 154.469 510.544 152.293 510.048 146.755C510.009 146.325 510.012 145.893 510.056 145.463C510.312 143.01 511.728 140.783 511.389 138.193C511.312 137.548 511.072 136.934 510.692 136.408C507.662 132.347 500.549 138.224 497.689 134.548C495.936 132.294 497.997 128.745 496.651 126.226C494.875 122.901 489.615 124.541 486.316 122.72C482.646 120.694 482.865 115.058 485.281 111.63C488.228 107.449 493.394 105.218 498.496 104.897C503.598 104.575 508.664 105.956 513.427 107.813C518.839 109.924 524.206 112.841 527.536 117.603C531.586 123.395 531.976 131.181 529.95 137.953C528.718 142.073 524.513 147.105 521.408 150.416Z" fill="#2F2E41" />
                            <path d="M697.088 431.589H84.389C84.1274 431.588 83.8769 431.483 83.6922 431.298C83.5075 431.113 83.4037 430.862 83.4037 430.6C83.4037 430.338 83.5075 430.087 83.6922 429.902C83.8769 429.716 84.1274 429.612 84.389 429.611H697.088C697.35 429.612 697.6 429.716 697.785 429.902C697.97 430.087 698.073 430.338 698.073 430.6C698.073 430.862 697.97 431.113 697.785 431.298C697.6 431.483 697.35 431.588 697.088 431.589Z" fill="#3F3D56" />
                            <path d="M389.216 340.94H281.331C279.91 340.948 278.544 340.391 277.533 339.392C276.522 338.393 275.948 337.034 275.937 335.612V94.6121C275.948 93.1902 276.522 91.8306 277.533 90.8318C278.544 89.8329 279.91 89.2762 281.331 89.2839H389.216C390.637 89.2762 392.003 89.8329 393.014 90.8318C394.025 91.8306 394.599 93.1902 394.61 94.6121V335.612C394.599 337.034 394.025 338.393 393.014 339.392C392.003 340.391 390.637 340.948 389.216 340.94Z" fill="white" />
                            <path d="M394.61 167.264H275.937V168.925H394.61V167.264Z" fill="#CCCCCC" />
                            <path d="M395.025 262.038H276.352V263.699H395.025V262.038Z" fill="#CCCCCC" />
                            <path d="M314.941 89.2839H313.282V341.77H314.941V89.2839Z" fill="#CCCCCC" />
                            <path d="M356.436 89.2839H354.776V341.77H356.436V89.2839Z" fill="#CCCCCC" />
                        </g>
                        <defs>
                            <clipPath id="clip0_136_15">
                                <rect width="722" height="432" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </div>
                <div className="md:p-12 p-4 flex flex-col justify-center">
                    <div>
                        <h1 className="text-center text-3xl font-bold mb-[15%]">Bem vindo, entre pra <br />acessar a Dashboard!</h1>
                        <form id="signup-form" className="flex gap-8 flex-col">
                            <Inputs id="email" labelValue="Email" inputType="text" />
                            <Inputs id="senha" labelValue="Senha" inputType="password" />
                        </form>
                        <p className="mt-2 mb-12">Não tem uma conta? <strong><Link to="/register" className="cursor-pointer">Clique aqui e crie uma!</Link></strong></p>
                        <div className="flex items-center justify-center">
                            <input type="button" onClick={handleClick} value={"Login"} className="bg-[#A9FFB7] hover:bg-[#74ff86] font-bold transition-all duration-300 text-center py-4 px-10 rounded" />
                        </div>
                    </div>
                </div>
            </div >
        </>
    )
}